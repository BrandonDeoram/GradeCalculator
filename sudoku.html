<!DOCTYPE html>
<html>

<head>
    <style>
        table {
            margin: 0 auto;
            border-collapse: collapse;
        }

        th,
        td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: lightgray;
            cursor: pointer;
        }

        .selected {
            background-color: lightblue;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $("th").click(function () {
                let columnIndex = $(this).index() + 1;
                $("td:nth-child(" + columnIndex + ")").toggleClass("selected");
            });
            $("td").click(function () {
                
                let rowIndex = $(this).parent().index();
                console.log(rowIndex);
                $("tr:eq(" + (rowIndex+1) + ") td").toggleClass("selected");
            });
        });
    </script>
</head>

<body>
    <table>
        <thead>
            <tr>
                <th>Column 1</th>
                <th>Column 2</th>
                <th>Column 3</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Row 1, Column 1</td>
                <td>Row 1, Column 2</td>
                <td>Row 1, Column 3</td>
            </tr>
            <tr>
                <td>Row 2, Column 1</td>
                <td>Row 2, Column 2</td>
                <td>Row 2, Column 3</td>
            </tr>
            <tr>
                <td>Row 3, Column 1</td>
                <td>Row 3, Column 2</td>
                <td>Row 3, Column 3</td>
            </tr>
        </tbody>
    </table>
</body>

</html>